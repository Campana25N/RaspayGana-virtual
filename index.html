<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Raspa y Gana Virtual</title>
<style>
  body {
    margin: 0;
    background: #222;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }

  #scratchContainer {
    position: relative;
    width: 95%;
    max-width: 800px;
    aspect-ratio: 9 / 5;
    overflow: hidden;
    border-radius: 10px;
  }

  #premio {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 10px;
    object-fit: cover;
  }

  /* ‚úî Mantengo EXACTAMENTE tus posiciones y tama√±os */
  #raspado {
    position: absolute;
    left: 70%;
    top: 50%;
    width: 53.01%;
    height: 78.26%;
    transform: translate(-50%, -50%);
    border-radius: 20px;
    touch-action: none;
  }
</style>
</head>
<body>

<div id="scratchContainer">
  <img id="premio" src="" alt="Premio">
  <canvas id="raspado"></canvas>
</div>

<script>
const canvas = document.getElementById("raspado");
const ctx = canvas.getContext("2d");
const premioImg = document.getElementById("premio");

// Lista de premios
const premios = [
  "premio1.png",
  "premio2.png",
  "premio3.png",
  "premio4.png",
  "premio5.png",
  "premio6.png",
  "premio7.png",
  "premio8.png",
  "premio9.png",
  "premio10.png"
];

// Premio aleatorio
premioImg.src = premios[Math.floor(Math.random() * premios.length)];


// ---------------------------
// ‚≠ê DEGRADADO ANIMADO MET√ÅLICO
// ---------------------------
let shift = 0;

function animateGradient() {
  shift += 0.01;

  const grad = ctx.createLinearGradient(
    0, 0,
    canvas.width * (1 + Math.sin(shift) * 0.5), 
    canvas.height * (1 + Math.cos(shift) * 0.5)
  );

  grad.addColorStop(0, "#d0d0d0");
  grad.addColorStop(0.5, "#f8f8f8");
  grad.addColorStop(1, "#9a9a9a");

  ctx.globalCompositeOperation = "source-over";
  ctx.fillStyle = grad;
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  requestAnimationFrame(animateGradient);
}


// ---------------------------
// üîß Ajuste responsivo del canvas
// ---------------------------
function resizeCanvas() {
  canvas.width = canvas.offsetWidth;
  canvas.height = canvas.offsetHeight;
}
resizeCanvas();
window.addEventListener("resize", () => {
  resizeCanvas();
});

// Iniciar animaci√≥n del gris met√°lico
animateGradient();


// ---------------------------
// ‚úè Funci√≥n de raspado
// ---------------------------
let isDrawing = false;

function startScratch(e) {
  isDrawing = true;
  scratch(e);
}

function endScratch() {
  isDrawing = false;
  ctx.beginPath();
}

function scratch(e) {
  if (!isDrawing) return;
  const rect = canvas.getBoundingClientRect();
  const x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
  const y = (e.touches ? e.touches[0].clientY : e.clientY) - rect.top;

  ctx.globalCompositeOperation = "destination-out";
  ctx.beginPath();
  ctx.arc(x, y, 40, 0, Math.PI * 2);
  ctx.fill();
}

// Eventos
canvas.addEventListener("mousedown", startScratch);
canvas.addEventListener("mouseup", endScratch);
canvas.addEventListener("mousemove", scratch);
canvas.addEventListener("touchstart", startScratch);
canvas.addEventListener("touchend", endScratch);
canvas.addEventListener("touchmove", scratch);
</script>

</body>
</html>



